CPU-Based Text-to-Speech Chatbot with Qwen and KittenTTS

This repository contains a lightweight, fully CPU-based pipeline that allows the user to:

- ask a question to a compact Qwen language model,

- generate a textual response,

- convert the generated text into spoken audio using KittenTTS,

- save both the text and the synthesized speech to local files.

The project is designed to be simple, reproducible, and runnable on standard consumer hardware without GPU acceleration.

1. Overview

The pipeline integrates two models:

Qwen/Qwen3-0.6B
Used as a lightweight conversational language model to generate textual responses.

KittenML/kitten-tts-nano-0.2
Used to synthesize speech from the generated text.

The output consists of:

a .txt file containing the chatbot response,

a .wav file containing the spoken version of the response.

2. Requirements

Python 3.10+ (3.11 or 3.12 recommended)

CPU-only system (no CUDA required)

Might not work on python versions newer then 3.12 as the two models are not updated yet

3. Environment Setup (Conda)

Step 1 - Create the environment
```bash
conda create --name qwen_tts python=3.12
```

Step 2 - Activate the environment
```bash
conda activate qwen_tts
```

Step 3 - Install dependencies
```bash
 pip install https://github.com/KittenML/KittenTTS/releases/download/0.1/kittentts-0.1.0-py3-none-any.whl
```

4. Running the Script

The main script performs the full pipeline: text generation + speech synthesis.

```
python qwen_kitten_tts.py
```

Before running, you can edit the prompt directly in the script:

prompt = "Can you suggest me a typical Indian recipe?"

5. How the Pipeline Works

The user prompt is formatted using the Qwen chat template.

The language model generates a response.

The response is split into short phrases using punctuation.

Each phrase is converted into audio using KittenTTS.

Small silences are inserted between phrases.

All audio chunks are concatenated and saved as a single .wav file.

6. Outputs

The script generates two files:

Text output
Text_answer.txt

Contains the full textual response produced by the Qwen model.

Audio Output
Audio_answer.wav

Contains the synthesized speech generated by KittenTTS at 24 kHz.

File paths can be modified directly inside the script to match your local setup.

7. Customization

You can easily modify:

Prompt
Change the user question to any topic.

Voice
Change the voice used by KittenTTS:

m.generate(text, voice='expr-voice-2-f')


Pause duration
Adjust silence length between sentences:

np.zeros(int(24000 * 0.2))

8. Notes and Limitations

This project prioritizes simplicity and accessibility, not maximum audio quality.

Long responses may increase inference time on CPU.

9. Repository Structure
.
├── qwen_kitten_tts.py   # Main script
├── README.md            # Documentation
